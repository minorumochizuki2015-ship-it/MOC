# ORCH-Next ä½œæ¥­ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

## ğŸ¯ ç›®çš„

æ–°è¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚„æ–°è¦AIãŒå³åº§ã«ä½œæ¥­ã«å‚åŠ ã§ãã‚‹ã‚ˆã†ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®çŠ¶æ…‹ãƒ»é€²æ—ãƒ»æŠ€è¡“çš„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æ§‹é€ åŒ–ã—ã¦ç®¡ç†ã™ã‚‹ã€‚

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
ORCH-Next/
â”œâ”€â”€ WORK_TRACKING.md          # ãƒ¡ã‚¤ãƒ³é€²æ—ç®¡ç†ï¼ˆå…¨ä½“ä¿¯ç°ï¼‰
â”œâ”€â”€ WORK_SESSION_TEMPLATE.md  # ã‚»ãƒƒã‚·ãƒ§ãƒ³è¨˜éŒ²ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ WORK_CONTEXT_SYSTEM.md    # æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆï¼‰
â”œâ”€â”€ sessions/                 # ã‚»ãƒƒã‚·ãƒ§ãƒ³è¨˜éŒ²ä¿å­˜
â”‚   â”œâ”€â”€ 2025-01-06_1500_session.md
â”‚   â”œâ”€â”€ 2025-01-06_1800_session.md
â”‚   â””â”€â”€ ...
â”œâ”€â”€ context/                  # ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±
â”‚   â”œâ”€â”€ current_state.json    # ç¾åœ¨ã®çŠ¶æ…‹ï¼ˆæ©Ÿæ¢°å¯èª­ï¼‰
â”‚   â”œâ”€â”€ decisions.md          # é‡è¦ãªæ±ºå®šäº‹é …
â”‚   â”œâ”€â”€ architecture.md       # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦
â”‚   â””â”€â”€ troubleshooting.md    # ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ³•
â””â”€â”€ handoff/                  # å¼•ãç¶™ãå°‚ç”¨
    â”œâ”€â”€ quick_start.md        # æ–°è¦å‚åŠ è€…å‘ã‘ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ
    â”œâ”€â”€ current_priorities.md # ç¾åœ¨ã®å„ªå…ˆäº‹é …
    â””â”€â”€ blocked_items.md      # ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹é …ç›®
```

## ğŸ”„ ä½œæ¥­ãƒ•ãƒ­ãƒ¼

### 1. ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚
1. `WORK_TRACKING.md` ã§å…¨ä½“çŠ¶æ³ã‚’æŠŠæ¡
2. `handoff/quick_start.md` ã§å³åº§ã«é–‹å§‹å¯èƒ½ãªã‚¿ã‚¹ã‚¯ã‚’ç¢ºèª
3. `sessions/` ã®æœ€æ–°ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å‰å›ã®è©³ç´°ã‚’ç¢ºèª
4. æ–°ã—ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `WORK_SESSION_TEMPLATE.md` ã‹ã‚‰ä½œæˆ

### 2. ä½œæ¥­ä¸­
1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ä½œæ¥­ãƒ­ã‚°ã‚’è¨˜éŒ²
2. é‡è¦ãªæ±ºå®šã¯ `context/decisions.md` ã«è¿½è¨˜
3. æ–°ã—ã„èª²é¡Œã¯ `handoff/blocked_items.md` ã«è¨˜éŒ²

### 3. ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†æ™‚
1. ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®Œæˆã•ã›ã‚‹
2. `WORK_TRACKING.md` ã®é€²æ—ã‚’æ›´æ–°
3. `context/current_state.json` ã‚’æ›´æ–°
4. æ¬¡å›ä½œæ¥­è€…å‘ã‘ã« `handoff/current_priorities.md` ã‚’æ›´æ–°

## ğŸ“Š çŠ¶æ…‹ç®¡ç†ï¼ˆcurrent_state.jsonï¼‰

```json
{
  "last_updated": "2025-01-06T15:30:00Z",
  "project_phase": "Phase 1 - åŸºç›¤æ§‹ç¯‰",
  "overall_progress": 85,
  "current_sprint": {
    "name": "Week 1 - PowerShellå»ƒæ­¢",
    "start_date": "2025-01-06",
    "end_date": "2025-01-12",
    "progress": 90
  },
  "active_tasks": [
    {
      "id": "task-001",
      "title": "çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ",
      "status": "in_progress",
      "assignee": "AI Assistant",
      "priority": "high",
      "estimated_hours": 2,
      "spent_hours": 1.5
    }
  ],
  "blocked_tasks": [
    {
      "id": "task-002",
      "title": "æœ¬ç•ªç’°å¢ƒå±•é–‹",
      "blocker": "ãƒ†ã‚¹ãƒˆå®Œäº†å¾…ã¡",
      "blocked_since": "2025-01-06T14:00:00Z"
    }
  ],
  "technical_context": {
    "main_language": "Python 3.11",
    "framework": "FastAPI",
    "database": "SQLite",
    "test_coverage": 95,
    "last_test_run": "2025-01-06T15:25:00Z",
    "last_test_status": "PASS"
  },
  "environment": {
    "development": {
      "status": "ready",
      "python_version": "3.11.0",
      "venv_path": ".venv",
      "dependencies_updated": "2025-01-06T10:00:00Z"
    },
    "testing": {
      "status": "ready",
      "last_run": "2025-01-06T15:25:00Z",
      "coverage": 95
    }
  }
}
```

## ğŸš€ æ–°è¦å‚åŠ è€…å‘ã‘ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å³åº§ã«é–‹å§‹å¯èƒ½ãªã‚¿ã‚¹ã‚¯
1. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**: `python -m pytest tests/ -v`
2. **ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯**: `python -m black src/ && python -m isort src/`
3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°**: æ—¢å­˜MDãƒ•ã‚¡ã‚¤ãƒ«ã®æƒ…å ±æ›´æ–°

### 5åˆ†ã§ç†è§£ã§ãã‚‹æ¦‚è¦
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: PowerShell â†’ Pythonç§»è¡Œ
- **ç¾åœ¨ãƒ•ã‚§ãƒ¼ã‚º**: åŸºç›¤æ§‹ç¯‰ï¼ˆ85%å®Œäº†ï¼‰
- **ä¸»è¦æŠ€è¡“**: Python 3.11, FastAPI, SQLite
- **ãƒ†ã‚¹ãƒˆ**: 95%ã‚«ãƒãƒ¬ãƒƒã‚¸é”æˆæ¸ˆã¿

### é‡è¦ãªã‚³ãƒãƒ³ãƒ‰
```bash
# ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
python -m pytest tests/ -v --cov=src

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
python src/main.py

# å“è³ªãƒã‚§ãƒƒã‚¯
python -m black src/ tests/
python -m isort src/ tests/
python -m mypy src/
```

## ğŸ”§ é«˜åº¦ãªä½œæ¥­å…±æœ‰æ‰‹æ®µã®ææ¡ˆ

### 1. SQLite + JSON ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰
**ç¾åœ¨ã®å®Ÿè£…**: è»½é‡ã§å³åº§ã«åˆ©ç”¨å¯èƒ½
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã§ç°¡å˜
- âœ… ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†å¯èƒ½
- âŒ åŒæ™‚ç·¨é›†ã«åˆ¶é™

### 2. MCP (Model Context Protocol) çµ±åˆ
**ææ¡ˆ**: AIé–“ã®åŠ¹ç‡çš„ãªæƒ…å ±å…±æœ‰
```python
# mcp_context.py
class MCPContextManager:
    def __init__(self):
        self.context_store = {}
    
    def save_session_context(self, session_id, context):
        """ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’MCPå½¢å¼ã§ä¿å­˜"""
        pass
    
    def load_context_for_ai(self, ai_id):
        """AIå‘ã‘ã«æœ€é©åŒ–ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æä¾›"""
        pass
```

### 3. Redis + WebSocket ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ
**ææ¡ˆ**: è¤‡æ•°AIãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ…‹å…±æœ‰
```python
# redis_sync.py
import redis
import json

class RealTimeContextSync:
    def __init__(self):
        self.redis_client = redis.Redis(host='localhost', port=6379)
    
    def publish_state_change(self, change_type, data):
        """çŠ¶æ…‹å¤‰æ›´ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é…ä¿¡"""
        message = {
            'timestamp': datetime.utcnow().isoformat(),
            'type': change_type,
            'data': data
        }
        self.redis_client.publish('orch_context', json.dumps(message))
```

### 4. GraphQL API + çŠ¶æ…‹ç®¡ç†
**ææ¡ˆ**: è¤‡é›‘ãªé–¢ä¿‚æ€§ã‚’æŒã¤ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã®åŠ¹ç‡çš„ã‚¯ã‚¨ãƒª
```graphql
type Project {
  id: ID!
  name: String!
  currentPhase: Phase!
  tasks: [Task!]!
  sessions: [Session!]!
}

type Task {
  id: ID!
  title: String!
  status: TaskStatus!
  dependencies: [Task!]!
  assignee: String
}

query GetCurrentContext {
  project(id: "orch-next") {
    currentPhase {
      name
      progress
    }
    tasks(status: IN_PROGRESS) {
      title
      priority
      estimatedHours
    }
  }
}
```

## ğŸ“ˆ æ¨å¥¨å®Ÿè£…é †åº

### Phase 1: åŸºæœ¬æ§‹é€ ï¼ˆç¾åœ¨ï¼‰
- [x] Markdownãƒ™ãƒ¼ã‚¹ã®ä½œæ¥­è¿½è·¡
- [x] ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- [x] JSONãƒ™ãƒ¼ã‚¹çŠ¶æ…‹ç®¡ç†

### Phase 2: è‡ªå‹•åŒ–å¼·åŒ–
- [ ] çŠ¶æ…‹æ›´æ–°ã®è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- [ ] ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ã®å·®åˆ†æ¤œå‡º
- [ ] é€²æ—ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã®è‡ªå‹•è¨ˆç®—

### Phase 3: é«˜åº¦ãªçµ±åˆ
- [ ] MCPçµ±åˆï¼ˆAIé–“åŠ¹ç‡åŒ–ï¼‰
- [ ] RedisåŒæœŸï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ï¼‰
- [ ] GraphQL APIï¼ˆè¤‡é›‘ã‚¯ã‚¨ãƒªï¼‰

## ğŸ¯ æˆåŠŸæŒ‡æ¨™

- **æ–°è¦å‚åŠ æ™‚é–“**: 5åˆ†ä»¥å†…ã§ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæŠŠæ¡
- **ä½œæ¥­ç¶™ç¶šæ€§**: ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ã®æƒ…å ±ãƒ­ã‚¹0%
- **æ„æ€æ±ºå®šè¿½è·¡**: å…¨ã¦ã®é‡è¦æ±ºå®šãŒè¨˜éŒ²ãƒ»æ¤œç´¢å¯èƒ½
- **è‡ªå‹•åŒ–ç‡**: çŠ¶æ…‹æ›´æ–°ä½œæ¥­ã®80%ä»¥ä¸Šã‚’è‡ªå‹•åŒ–

---

**ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚Šã€ã©ã®AIã‚„æ–°è¦ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã‚‚å³åº§ã«åŠ¹æœçš„ãªä½œæ¥­ç¶™ç¶šãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚**