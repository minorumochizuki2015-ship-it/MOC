# T-101 チェックリスト — Vault実パスの確定と docker-compose 定義作成（MCP FS）

最終更新: 2025-10-13  
責任者: me  
期日: 2025-10-15  
依存: なし  

目的
- Obsidian Vault の実パスを確定し、MCP FS サーバの docker-compose を作成・起動して Vault を公開できる状態にする。

作業手順（Plan→Test→Patch）
1) Plan: VaultPath を確定（絶対パス）
   - 入力例: `C:\Users\User\Obsidian\Vaults\<YourVaultName>`（要確認）
   - 記録: WORK_TRACKING.md へ追記（絶対パス必須）
2) Plan: docker-compose 設計（コンテナ名、ボリューム、ポート=8001）
   - 生成: `C:\Users\User\Trae\ORCH-Next\docker\mcp_fs\docker-compose.yaml`（新規）
3) Test: ポート競合の事前確認（8001）
   - コマンド: `C:\Users\User\Trae\ORCH-Next\.venv\Scripts\python.exe C:\Users\User\Trae\ORCH-Next\scripts\ops\check_port.py 8001`
   - 証跡: `C:\Users\User\Trae\ORCH-Next\ORCH\STATE\PORTS_YYYYMMDD.md`（write_port_snapshot.ps1）
4) Patch: docker-compose up（起動）
   - 起動: `docker compose -f C:\Users\User\Trae\ORCH-Next\docker\mcp_fs\docker-compose.yaml up -d`
   - healthz: `http://localhost:8001/healthz` が 200 を返すこと
5) Patch: `.trae\mcp_servers.yaml` に接続設定を追加（T-102 と連携）
   - 設定: `C:\Users\User\Trae\ORCH-Next\.trae\mcp_servers.yaml`

受入基準（Definition of Done）
- MCP FS サーバ起動、Vault への読み書きが可能（healthz 200）
- `.trae\mcp_servers.yaml` に接続エントリが反映され、検証スクリプトが PASS
- 証跡（PORTS スナップショット・WORK_TRACKING.md 更新）が作成済み

関係絶対パス（使用・生成）
- VaultPath（要指示）: `C:\Users\User\Obsidian\Vaults\<YourVaultName>`
- compose: `C:\Users\User\Trae\ORCH-Next\docker\mcp_fs\docker-compose.yaml`
- config: `C:\Users\User\Trae\ORCH-Next\.trae\mcp_servers.yaml`
- scripts: `C:\Users\User\Trae\ORCH-Next\scripts\ops\check_port.py`, `C:\Users\User\Trae\ORCH-Next\scripts\ops\write_port_snapshot.ps1`

メモ
- `WORK_RULES.md` と `project_rules.yaml` の EOL/encoding（UTF-8 LF）・安全な最小差分に従うこと。
- 機密値（APIキー等）は MD やログに記載しない。